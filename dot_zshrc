export EDITOR=emacs
export ZSH="$HOME/.oh-my-zsh"
export PATH=$PATH:/opt/homebrew/lib:/opt/homebrew/include

# Themes https://github.com/ohmyzsh/ohmyzsh/wiki/Themes
ZSH_THEME="agnoster"

#-/_ treated the same
HYPHEN_INSENSITIVE="true"

#Auto-update OMZ
zstyle ':omz:update' mode auto

#Auto-correct on
ENABLE_CORRECTION="true"

#What plugins to enable
plugins=(git ssh-agent)

source $ZSH/oh-my-zsh.sh

DEFAULT_USER prompt_context(){}


#Amp specific function
switch-java() {
  export JAVA_HOME=$(/usr/libexec/java_home -v $1)
  java -version
}
switch-java 1.8 2> /dev/null

switch-vault() {
    if [[ $# -ne 1 ]]; then
        echo "Usage: $0 <stack-name>" >&2
        echo "Updates VAULT_ADDR in this shell to the Vault address of the given stack." >&2
        return 1
    fi
    local stack=$1
    case $stack in
        aws-mantle)
            export VAULT_ADDR="https://vault.mantle.amperity.systems:8200"
            ;;
        aws-dev)
            export VAULT_ADDR="https://vault.dev.amperity.systems:8200"
            ;;
        aws-stage)
            export VAULT_ADDR="https://vault.stage.amperity.systems:8200"
            ;;
        aws-prod)
            export VAULT_ADDR="https://vault.prod.amperity.systems:8200"
            ;;
        aws-prod-cc1)
            export VAULT_ADDR="https://vault.aws-prod-cc1.amperity.systems:8200"
            ;;
        az-stage)
            export VAULT_ADDR="https://vault.az-stage.amperity.systems:8200"
            ;;
        az-prod)
            export VAULT_ADDR="https://vault.az-prod.amperity.systems:8200"
            ;;
        az-prod-en1)
            export VAULT_ADDR="https://vault.az-prod-en1.amperity.systems:8200"
            ;;
        *)
            >&2 echo "Unknown stack: $stack"
            return 1
            ;;
    esac
}



#Gentoo box start Sway on tty login
if [ -z "${WAYLAND_DISPLAY}" ] && [ "${XDG_VTNR}" -eq 1 ]; then
    dbus-run-session sway
fi

export AWS_PROFILE=sre
export AWS_REGION=us-west-2         
export ANTHROPIC_MODEL='us.anthropic.claude-3-7-sonnet-20250219-v1:0'
export CLAUDE_CODE_USE_BEDROCK=1
